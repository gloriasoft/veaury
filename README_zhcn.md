<div align=center>
  <img src="https://raw.githubusercontent.com/devilwjp/VueReact/master/vuereact-combined.png"/>
</div>  
<h1 align=center>Veaury</h1>
<h2 align=center>Vue3åº”ç”¨å¯ä»¥ä½¿ç”¨Reactç»„ä»¶ï¼ŒReactåº”ç”¨å¯ä»¥ä½¿ç”¨Vue3ç»„ä»¶ï¼Œå¹¶ä¸”éå¸¸å®Œç¾ï¼</h2> 

## ä»€ä¹ˆæ˜¯Veaury?  
Veaury æ˜¯åŸºäºReactå’ŒVue3çš„å·¥å…·åº“ï¼Œä¸»è¦ç”¨äºReactå’ŒVueåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å…¬å…±ä½¿ç”¨çš„åœºæ™¯ï¼Œä¸»è¦è¿ç”¨åœ¨é¡¹ç›®è¿ç§»ã€æŠ€æœ¯æ ˆèåˆçš„å¼€å‘æ¨¡å¼ã€è·¨æŠ€æœ¯æ ˆä½¿ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶çš„åœºæ™¯ã€‚  

## é‡è¦åŠŸèƒ½
- ğŸŒ æ”¯æŒ Vue3   
- ğŸŒˆ æ”¯æŒ Context - åŒä¸€ä¸ªåº”ç”¨ä¸­å‡ºç°çš„vueç»„ä»¶å’Œreactç»„ä»¶çš„contextæ˜¯å…±äº«çš„.  
- ğŸ’— æ”¯æŒè·¨æ¡†æ¶çš„hooksè°ƒç”¨ - å¯ä»¥åœ¨reactç»„ä»¶ä¸­ä½¿ç”¨vueçš„hooksï¼Œè·å–åˆ°vueç»„ä»¶æˆ–è€…åº”ç”¨çš„ä¸Šä¸‹æ–‡æ•°æ®ï¼Œæ¯”å¦‚vue-routerã€vuexï¼Œä¹Ÿå¯ä»¥åœ¨vueç»„ä»¶ä¸­ä½¿ç”¨reactçš„hooksï¼Œè·å–åˆ°reactç»„ä»¶æˆ–è€…åº”ç”¨çš„ä¸Šä¸‹æ–‡æ•°æ®ï¼Œæ¯”å¦‚react-routerã€provideã€contextç­‰

## æ”¯æŒVue2ï¼Ÿ
[å®Œç¾æ”¯æŒreactå’Œvue2åŒæ—¶å¼€å‘çš„å·¥å…·åº“vuereact-combined](https://github.com/devilwjp/vuereact-combined)  

## é¡¹ç›®çš„é¢„é…ç½®
ç†è®ºä¸Šï¼Œä¸éœ€è¦åœ¨ React é¡¹ç›®ä¸­åšé¢å¤–çš„é…ç½®æ¥æ”¯æŒ Vueï¼Œä¹Ÿä¸éœ€è¦åœ¨ Vue é¡¹ç›®ä¸­åšé¢å¤–çš„é…ç½®æ¥æ”¯æŒ Reactã€‚  

å¦‚æœè¦è½¬æ¢çš„ React æˆ– Vue ç»„ä»¶æ¥è‡ª npm åŒ…ï¼Œæˆ–è€…å·²ç»ç»è¿‡æ„å»ºï¼ˆä¸æ˜¯ç›´æ¥çš„vueæ–‡ä»¶ä»¥åŠä¸å«æœ‰jsxï¼‰ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ `applyReactInVue` æˆ– `applyVueInReact`ã€‚  

å¦‚æœéœ€è¦åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­åŒæ—¶å¼€å‘ Vue å’Œ Reactï¼Œè€Œä¸æ˜¯ä»…ä»…ä½¿ç”¨ç°æœ‰çš„ npm ç»„ä»¶ï¼Œé‚£ä¹ˆåº”è¯¥åšä¸€äº›é…ç½®ï¼Œé€šå¸¸é…ç½® `webpack.config.js` å’Œ `babel.config.js`ã€‚  

æœ¬é¡¹ç›®ä¸­çš„`dev-project-react`å’Œ`dev-project-vue3`ç›®å½•æ˜¯`veaury`å¼€å‘ç¯å¢ƒçš„åŸºç¡€é¡¹ç›®ï¼Œåˆ†åˆ«ç”±`create-react-app`å’Œ`@vue/cli`åˆ›å»ºçš„ä¸¤ä¸ªåˆå§‹é¡¹ç›®ã€‚  
> **Note:** åœ¨reacté¡¹ç›®ä¸­çš„`config/webpack.config.js`ä»¥åŠvueé¡¹ç›®ä¸­çš„`vue.config.js`é‡Œï¼Œå¯ä»¥æ‰¾åˆ°webpackçš„aliasåˆ«åé…ç½®ï¼Œå°†`veaury`çš„åˆ«åæ³¨é‡Šè§£å¼€ï¼Œå°±å¯ä»¥å¯¹æ ¹é¡¹ç›®ä¸­`src`ç›®å½•é‡Œçš„`veaury`æºä»£ç è¿›è¡Œå¼€å‘è°ƒè¯•äº†
> 
> **Setup:** åœ¨ä¸»é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤è¡Œ`npm run setup:yarn` æˆ–è€… `npm run setup:npm`ï¼Œå¯ä»¥æ•´ä½“å®‰è£…ä¸»é¡¹ç›®å’Œä¸¤ä¸ªè°ƒè¯•ç”¨çš„å­é¡¹ç›®
> 
> **Develop:** åœ¨ä¸»é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤è¡Œ`npm run dev:vue` ä»¥åŠ `npm run setup:npm`å°±å¯ä»¥å¯¹å­é¡¹ç›®è¿›è¡Œå¼€å‘è°ƒè¯•
   
ä»¥ä¸‹ä¿¡æ¯å¯ä»¥ä½œä¸ºå¦‚ä½•é…ç½®reactå’Œvueé¡¹ç›®ä»¥æ”¯æŒå¦ä¸€ç§æ¡†æ¶çš„å‚è€ƒ  
[å¦‚ä½•é…ç½®ç”±'@vue/cli'åˆ›å»ºçš„vueé¡¹ç›®æ”¯æŒå¼€å‘react](https://github.com/devilwjp/veaury/tree/master/dev-project-vue3)  
[å¦‚ä½•é…ç½®ç”±'create-react-app'åˆ›å»ºçš„reacté¡¹ç›®æ”¯æŒå¼€å‘vue](https://github.com/devilwjp/veaury/tree/master/dev-project-react)

## ä½¿ç”¨åœºæ™¯
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ åœ¨ä¸€ä¸ªåº”ç”¨ä¸­åŒæ—¶å¼€å‘Reactå’ŒVue
- ğŸƒ ä»Vueé¡¹ç›®è¿ç§»åˆ°Reacté¡¹ç›®ï¼Œæˆ–è€…ä»Reacté¡¹ç›®è¿ç§»åˆ°Vueé¡¹ç›®
- ğŸ“² åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯ä»¥éšæ„ä½¿ç”¨Reactæˆ–è€…Vueçš„ç¬¬ä¸‰æ–¹ç»„ä»¶, æ¯”å¦‚ `antd`, `element-ui`, `vuetify`

## å®‰è£…

```sh
# Install with yarn:
$ yarn add veaury
# or with npm:
$ npm i veaury -S
```

## ç”¨æ³•

### åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨Vueç»„ä»¶ - åŸºæœ¬ç”¨æ³•

```jsx
import {applyVueInReact} from 'veaury'
// è¿™æ˜¯ä¸€ä¸ªVueç»„ä»¶
import BasicVueComponent from './Basic.vue'
import {useState} from 'react'
// ä½¿ç”¨é«˜é˜¶ç»„ä»¶ 'applyVueInReact'
const Basic = applyVueInReact(BasicVueComponent)
export default function () {
  const [foo] = useState('Hello!')
  return <Basic foo={foo}>
    <div>
      é»˜è®¤çš„slot
    </div>
  </Basic>
}
```  

### åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨Reactç»„ä»¶ - åŸºæœ¬ç”¨æ³•

```vue

<template>
  <Basic :foo="foo">
    <div>
      childrenå†…å®¹
    </div>
  </Basic>
</template>
<script>
import {applyReactInVue} from 'veaury'
// è¿™æ˜¯ä¸€ä¸ªReactç»„ä»¶
import BasicReactComponent from './react_app/Basic.jsx'
import {ref} from 'vue'

export default {
  components: {
    // ä½¿ç”¨é«˜é˜¶ç»„ä»¶ 'applyReactInVue'
    Basic: applyReactInVue(BasicReactComponent)
  },
  setup() {
    return {
      foo: ref('Hello!')
    }
  }
}
</script>
```

### åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨Vueç»„ä»¶ - äº‹ä»¶çš„ç”¨æ³•

```jsx
import {applyVueInReact} from 'veaury'
import BasicVue from './Basic.vue'
import {useState} from 'react'

const Basic = applyVueInReact(BasicVue)
export default function () {
  function onClickForVue() {
    console.log('clicked!')
  }

  return <div>
    {/*åœ¨Vueç»„ä»¶Basicä¸­å¯ä»¥ä½¿ç”¨$emit('click')è§¦å‘è¿™ä¸ªäº‹ä»¶ç»‘å®šçš„å‡½æ•°*/}
    <Basic onClick={onClickForVue}/>
  </div>
}
```

### åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨Reactç»„ä»¶ - äº‹ä»¶çš„ç”¨æ³•

```vue

<template>
  <!-- åœ¨Reactç»„ä»¶ReactButtonä¸­å¯ä»¥ä½¿ç”¨props.onClick()è§¦å‘è¿™ä¸ªäº‹ä»¶ç»‘å®šçš„å‡½æ•° -->
  <ReactButton @click="onClickForReact"/>
</template>

<script>
import {applyReactInVue} from 'veaury'
// Reactç»„ä»¶ReactButton
import ReactButton from "./react_app/Button.jsx"

export default {
  components: {
    ReactButton: applyReactInVue(ReactButton)
  },
  setup() {
    function onClickForReact() {
      console.log('clicked!')
    }

    return {
      onClickForReact,
    }
  }
}
</script>
```

### åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨Vueç»„ä»¶ - æ’æ§½çš„ç”¨æ³•

è¿™ä¸ªæ’æ§½çš„ç”¨æ³•ä¸Vueçš„jsxä¼ é€’æ’æ§½çš„ç”¨æ³•éå¸¸ç›¸ä¼¼

```jsx
import {applyVueInReact} from 'veaury'
import BasicVue from './Basic.vue'

const Basic = applyVueInReact(BasicVue)
export default function () {
  return <div>
    {/*åªä¼ é€’children*/}
    <Basic>
      {/* åœ¨Vueç»„ä»¶çš„templateå†…ä½¿ç”¨'<slot/>'è¿›è¡Œæ¸²æŸ“ */}
      <div>this is children</div>
    </Basic>
    {/*ä¼ é€’ v-slots*/}
    <Basic v-slots={{
      // åœ¨Vueç»„ä»¶çš„templateå†…ä½¿ç”¨'<slot name="slot1" />'è¿›è¡Œæ¸²æŸ“
      slot1: <div>this is slot1(namedSlot)</div>,
      // åœ¨Vueç»„ä»¶çš„templateå†…ä½¿ç”¨'<slot name="slot2" value="xxxxxx"/>'è¿›è¡Œæ¸²æŸ“
      slot2: ({value}) => <div>this is slot2(scopedSlot), and receive value: {value}</div>,
      // åœ¨Vueç»„ä»¶çš„templateå†…ä½¿ç”¨'<slot/>'è¿›è¡Œæ¸²æŸ“
      default: <div>this is children</div>
    }}/>
    {/*å¦ä¸€ç§ç”¨æ³•*/}
    <Basic>
      {{
        slot1: <div>this is slot1(namedSlot)</div>,
        slot2: ({value}) => <div>this is slot2(scopedSlot), and receive value: {value}</div>,
        default: <div>this is children</div>
      }}
    </Basic>
  </div>
}
```

### åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨Reactç»„ä»¶ - ä¼ é€’render props å’Œ React node çš„ç”¨æ³•

Vue3çš„å…·åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½ = React render props.  
Vue3çš„é»˜è®¤æ’æ§½å’Œchildren = React props.children.  
ä¸€ä¸ªå¸¦æœ‰`node:`å‰ç¼€çš„å…·åæ’æ§½ = React Node  
```vue
<template>
  <Basic>
    <!--  åœ¨Reactç»„ä»¶é‡Œä½¿ç”¨'props.slot1()'è¿›è¡Œæ¸²æŸ“  -->
    <template v-slot:slot1>
      <div>
        æ’æ§½1 (render props)
      </div>
    </template>
    <!--  åœ¨Reactç»„ä»¶é‡Œä½¿ç”¨'props.slot2("xxxxx")'è¿›è¡Œæ¸²æŸ“  -->
    <template v-slot:slot2="bar">
      <div>
        æ’æ§½2 (render props)<br/>
        ä»Reactç»„ä»¶ä¼ é€’çš„å†…å®¹: {{bar}}
      </div>
    </template>
    <!--  åœ¨Reactç»„ä»¶é‡Œä½¿ç”¨'props.slot3'è¿›è¡Œæ¸²æŸ“  -->
    <template v-slot:node:slot3>
      <div>
        æ’æ§½3 (react node)
      </div>
    </template>
    <!--  åœ¨Reactç»„ä»¶é‡Œä½¿ç”¨'props.children'è¿›è¡Œæ¸²æŸ“  -->
    <div>
      é»˜è®¤æ’æ§½children (react node)
    </div>
  </Basic>
</template>

<script>
import {applyReactInVue} from 'veaury'
// è¿™æ˜¯ä¸€ä¸ªReactç»„ä»¶
import ReactBasic from "./react_app/Slots.jsx"

export default {
  components: {
    Basic: applyReactInVue(ReactBasic)
  }
}
</script>
```

### Context(ä¸Šä¸‹æ–‡)

Veaury ä¼šåˆ¤æ–­å¦‚æœä¸€ä¸ªç»„ä»¶çš„å¤–å±‚æœ‰åŒä¸€ä¸ªæ¡†æ¶çš„ç»„ä»¶å­˜åœ¨ï¼Œé‚£ä¹ˆVeaury å°±ä¼šä½¿ç”¨ React çš„ `Portal` æˆ–è€… Vue çš„ `Teleport`åˆ›å»ºè¢«é«˜é˜¶ç»„ä»¶åŒ…è£…çš„ç›®æ ‡ç»„ä»¶ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨å®ä¾‹ã€‚   
  
è¿™æ˜¯éå¸¸ç‰›é€¼çš„åšæ³•! Veaury å¯ä»¥å¾ˆå¥½åœ°å°†æ ¹èŠ‚ç‚¹çš„ä¸Šä¸‹æ–‡è·¨è¿‡ä¸åŒçš„æ¡†æ¶ç»„ä»¶ä¼ é€’ç»™å†…éƒ¨ä¸æ ¹èŠ‚ç‚¹ç›¸åŒæ¡†æ¶çš„ç»„ä»¶.  

è¿™æ„å‘³ç€ä¸€ä¸ª Vue ç»„ä»¶ä½¿ç”¨äº†ä¸€ä¸ª React ç»„ä»¶ï¼Œç„¶åè¿™ä¸ª React ç»„ä»¶ä½¿ç”¨äº†å¦ä¸€ä¸ª Vue å­ç»„ä»¶ã€‚ è¿™ä¸ª Vue å­ç»„ä»¶å¯ä»¥è·å–å¤–éƒ¨ Vue ç»„ä»¶çš„ä¸Šä¸‹æ–‡ã€‚  

#### Reactç»„ä»¶ä½¿ç”¨Vueç»„ä»¶ - Provider / useContext çš„ç”¨æ³•

```jsx
import {applyVueInReact} from 'veaury'
import BasicVue from './Basic.vue'
import {createContext, useContext} from 'react'

const Basic = applyVueInReact(BasicVue)
// åˆ›å»º React context å¯¹è±¡
const Context = createContext({})

// Reactå­ç»„ä»¶
function SubReactComponent() {
  // è·å– context å€¼
  const {bossName} = useContext(Context)
  return <div className="slot">bossName from Context: {bossName}</div>
}

export default function () {
  // è®¾ç½® context å€¼
  return <Context.Provider value={{bossName: 'God'}}>
    {/* Vueç»„ä»¶Basic */}
    <Basic>
      {/* åœ¨Vueç»„ä»¶çš„childrené‡Œ, Reactå­ç»„ä»¶å¯ä»¥è·å¾—ä»å¤–å±‚Providerä¼ å…¥çš„contextçš„å€¼ */}
      <SubReactComponent/>
    </Basic>
  </Context.Provider>
}
```

#### Vueç»„ä»¶ä½¿ç”¨Reactç»„ä»¶ - Provide / Inject çš„ç”¨æ³•

```vue

<template>
  <Basic>
    <!--  åœ¨è¿™ä¸ªVueç»„ä»¶é‡Œå¯ä»¥é€šè¿‡injectè·å¾—ä»å¤–å±‚provideä¼ å…¥çš„å€¼  -->
    <SubVueComponent/>
  </Basic>
</template>

<script>
import {provide, inject, h} from 'vue'
import {applyReactInVue} from 'veaury'
// è¿™æ˜¯ä¸€ä¸ªReactç»„ä»¶
import ReactBasic from "./react_app/Basic"
// è¿™æ˜¯ä¸€ä¸ªVueç»„ä»¶
const SubVueComponent = {
  setup() {
    // get bossName from injection
    const bossName = inject('bossName')
    return h('div', () => bossName)
  }
}

export default {
  components: {
    Basic: applyReactInVue(ReactBasic),
    SubVueComponent
  },
  setup() {
    // Use 'provide' to set the value of bossName
    provide('bossName', 'God')
  }
}
</script>
```

### åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨ VueContainer ç»„ä»¶çš„ç”¨æ³•

å¯ä»¥åœ¨Reactç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ `VueContainer` ç»„ä»¶åŠ¨æ€å±•ç¤ºä¸€ä¸ªVueç»„ä»¶  

å½“è¿™ä¸ªReactç»„ä»¶å­˜åœ¨äºæŸä¸ªVueç»„ä»¶ä¸­æ—¶ï¼Œ æ­¤æ—¶Reactç»„ä»¶ä¸­ä½¿ç”¨`VueContainer` å¯ä»¥æ˜¾ç¤ºåœ¨ä¸Šå±‚ Vue åº”ç”¨ä¸­æ³¨å†Œçš„å…¨å±€ Vue ç»„ä»¶ã€‚  

```jsx
import {VueContainer} from "veaury"
import BasicVue from './Basic.vue'

export default function () {
  const passedProps = {
    name: 'Mike'
  }
  // å¦‚æœ 'vue-router' å­˜åœ¨ï¼Œåˆ™æ¸²æŸ“ '<router-view>' å¯ä»¥ä½¿ç”¨ '<VueContainer component="RouterView"/>'
  return <VueContainer component={BasicVue} {...passedProps}/>
}
```

### åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨Vueç»„ä»¶, v-model / v-models çš„ç”¨æ³•
'v-model' çš„ç”¨æ³•ä¸Vueçš„jsxä¸­çš„'v-model'ç”¨æ³•ç›¸ä¼¼  
åœ¨React jsxä¸­ä½¿ç”¨ `v-model` å±æ€§, å¯ä»¥æœ‰å¦‚ä¸‹æ ¼å¼:      
`[ modelValue, modelSetter, argumentKey, argumentModifiers ]`  
`[ modelValue, modelSetter, argumentModifiers ]`  
`[ modelValue, modelSetter ]`  
'argumentKey'ä»£è¡¨äº†v-modelçš„è‡ªå®šä¹‰å‚æ•°å, é»˜è®¤æƒ…å†µä¸‹, v-modelçš„å‚æ•°åæ—¶modelValue, ä¹Ÿå¯ä»¥å°†'argumentKey'è®¾ç½®åœ¨v-modelå±æ€§ä¹‹åçš„é™„åŠ åç¼€ä¸Š, æ¯”å¦‚ `v-model-god={[godValue, setGodValue]}` = `v-model={[godValue, setGodValue, 'god']}`
```typescript
// types
type modelValue = any
type modelSetter = (newValue) => void
type argumentKey = string
type argumentModifiers = string[]
```
```jsx
import {applyVueInReact} from 'veaury'
import BasicVue from './Basic.vue'
import Basic1Vue from './Basic1.vue'
import {useState} from 'react'

const Basic = applyVueInReact(BasicVue)
const Basic1 = applyVueInReact(Basic1Vue)
export default function () {
  const [foo, setFoo] = useState(Math.random())
  const [bar, setBar] = useState(Math.random())
  const [zoo, setZoo] = useState(Math.random())

  return <div>
    <Basic v-model={[foo, setFoo]} v-model-bar={[bar, setBar]} />
    {/*<Basic1 v-model={[zoo, setZoo, 'zoo']}/>*/}
    {/*<Basic1 v-model={[zoo, setZoo, 'zoo', ['number']]}/>*/}
    {/*<Basic1 v-model-zoo={[zoo, setZoo, ['number']]}/>*/}
    <Basic1 v-models={{
      // v-modelså¯¹è±¡ä¸­çš„keyè®¾ç½®ä¸º'modelValue'æ—¶, ç­‰åŒäºé»˜è®¤çš„v-modelå±æ€§
      modelValue: [zoo, setZoo],
      //...å¯ä»¥è®¾ç½®å…¶ä»–çš„è‡ªå®šä¹‰v-modelçš„key
    }} />
  </div>
}

```
### HOC injectPropsFromWrapper
`injectPropsFromWrapper` æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶.  

åœ¨åŒæ—¶å¼€å‘ Vue å’Œ React åº”ç”¨æ—¶ï¼Œæœ‰æ—¶éœ€è¦åœ¨ Vue ç»„ä»¶å†…éƒ¨è·å– React åº”ç”¨çš„ä¸Šä¸‹æ–‡(æˆ–è€…ä¸€äº›hooks)ï¼Œåä¹‹äº¦ç„¶ã€‚    

ä¾‹å¦‚ï¼Œä¸€ä¸ªVueç»„ä»¶è¢«Reactåº”ç”¨ä½¿ç”¨, åœ¨è¿™ä¸ªVueç»„ä»¶å†…éƒ¨è¦è·å¾— `react-router` çš„ä¿¡æ¯ï¼Œæˆ–è€…åœ¨ React ç»„ä»¶ä¸­è·å¾— `vuex` çš„çŠ¶æ€ã€‚   
  
è¿™ä¸ªé«˜é˜¶ç»„ä»¶å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸Vueå’ŒReactç»„ä»¶

```typescript
interface propsFromWrapper {
    [propName: string]: any;
}
type component = object | Function
type computedModeReturn = () => propsFromWrapper
type defaultModeReturn = propsFromWrapper | Function
type allModeReturn = defaultModeReturn | computedModeReturn
type injectionFunction<T = allModeReturn> = (props?: propsFromWrapper) => T

// types of injectPropsFromWrapper
interface injectPropsFromWrapper<T extends allModeReturn = allModeReturn>{
    (injectionFunction: injectionFunction<T>, component:component): component
}
```
#### åœ¨Vueç»„ä»¶ä¸­æ³¨å…¥React hooksçš„ç”¨æ³•
React application uses Vue component, example to get `react-router` inside Vue component.  
```vue
<template>
  <div class="vue-component">
    <h3>This is the Vue Component.</h3>
    the path info from 'react-router': <span style="font-weight: bold">{{pathname + search}}</span><br/><br/>
    <button @click="changeQuery">change query</button>
  </div>
</template>
<script>
// è¿™ä¸ª Vue ç»„ä»¶å°†åœ¨ React åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ react-router hooks

import { injectPropsFromWrapper } from 'veaury'
import { useLocation, useNavigate } from 'react-router-dom'
import React from 'react'

function ReactInjectionHook (reactProps) {
  // React hooks å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¢«ä½¿ç”¨
  // ä½¿ç”¨react-router-domçš„hooks
  const reactRouterLocation = useLocation()
  const navigate = useNavigate()
  function changeQuery() {
    navigate(`?a=${Math.random()}`, {replace: true})
  }
  
  // è¿”å›çš„å¯¹è±¡ä¼šä½œä¸º props ä¼ é€’ç»™ Vue ç»„ä»¶  
  return {
    pathname: reactRouterLocation.pathname,
    search: reactRouterLocation.search,
    changeQuery
  }
}
// 'injectPropsFromWrapper' ä¼šè¿”å›åŸå§‹çš„ Vue ç»„ä»¶å¹¶å°†æ³¨å†Œ ReactInjectionHookå‡½æ•°.
// åªæœ‰å½“ Vue ç»„ä»¶é€šè¿‡ 'applyVueInReact' åº”ç”¨åˆ° React åº”ç”¨æ—¶ï¼Œæ‰ä¼šå…ˆæ‰§è¡Œ ReactInjectionHookå‡½æ•°ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œ ReactInjectionHookã€‚
export default injectPropsFromWrapper(ReactInjectionHook, {
  props: {
    pathname: String,
    search: String,
    changeQuery: Function
  }
})
</script>
```
#### åœ¨Reactç»„ä»¶ä¸­æ³¨å…¥Vue hooksçš„ç”¨æ³•
Vue åº”ç”¨ä½¿ç”¨ React ç»„ä»¶ï¼Œä¾‹å¦‚, åœ¨ React ç»„ä»¶ä¸­è·å– `vue-router` å’Œ `vuex`ã€‚  
There are two modes for injecting functions, 'setup' and 'computed' modes.  
'injectPropsFromWrapper'é«˜é˜¶ç»„ä»¶ä½¿ç”¨åœ¨Reactç»„ä»¶æ—¶, ç¬¬ä¸€ä¸ªå‚æ•°çš„æ³¨å…¥å‡½æ•°å¯ä»¥æœ‰ä¸¤ç§æ¨¡å¼, åˆ†åˆ«æ˜¯'setup'å’Œ'computed'æ¨¡å¼  
'setup'æ¨¡å¼å¯¹åº”çš„å°±æ˜¯Vue3çš„composition API, æ„æ€å°±æ˜¯å¯ä»¥åœ¨è¿™ç§æ¨¡å¼çš„æ³¨å…¥å‡½æ•°å†…ä½¿ç”¨Vue3çš„composition API  
'computed'æ¨¡å¼å¯¹åº”çš„æ˜¯Vue3çš„options APIçš„computedå±æ€§, è¿™ç§æ¨¡å¼çš„æ³¨å…¥å‡½æ•°å…¶å®å°±æ˜¯è¿”å›äº†ä¸€ä¸ªVueçš„è®¡ç®—å±æ€§  
```jsx
import {toRef} from 'vue'
import {useStore} from 'vuex'
import {useRoute, useRouter} from 'vue-router'
import {injectPropsFromWrapper} from 'veaury'

// è¿™ä¸ª React ç»„ä»¶å°†åœ¨ Vue åº”ç”¨ç¨‹åºä¸­è¢«ä½¿ç”¨ï¼Œéœ€è¦ä½¿ç”¨ vue-router å’Œ vuex hooks è·å¾—ç›¸å…³çš„çŠ¶æ€

// 'setup' æ¨¡å¼çš„æ³¨å…¥å‡½æ•°
function VueInjectionHookInSetupMode(vueProps) {
  // Vue hooks å¯ä»¥è¢«ä½¿ç”¨åœ¨è¿™ä¸ªå‡½æ•°å†…
  // è¿™ä¸ªå‡½æ•°å°†åœ¨ applpReactInVueé«˜é˜¶ç»„ä»¶çš„VueåŒ…è£…å±‚çš„ 'setup' é’©å­ä¸­è¢«è°ƒç”¨
  const store = useStore()
  const route = useRoute()
  const router = useRouter()

  // è¿”å›çš„å¯¹è±¡å°†ä½œä¸º props ä¼ é€’ç»™ React ç»„ä»¶
  return {
    // åœ¨ 'setup' æ¨¡å¼ä¸­, è¿”å›çš„æ¯ä¸ªå±æ€§éƒ½éœ€è¦ç¡®ä¿è¿›è¡Œäº†Proxyçš„å¤„ç†(éµå¾ªVue3çš„è§„èŒƒ),  
    // å¦åˆ™æ•°æ®å°†ä¸æ˜¯å“åº”å¼çš„
    fullPath: toRef(route, 'fullPath'),
    count: toRef(store.state, 'count'),
    changeQuery: () => router.replace({
      query: {
        a: Math.random()
      }
    }),
    incrementCount: () => store.dispatch('increment')
  }
}

// 'computed' æ¨¡å¼
function VueInjectionHookInComputedMode(vueProps) {
  // å‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸æ¥è‡ª Vue3 hooks 'getCurrentInstance' çš„'proxy'å±æ€§
  // è¿”å›ä¸€ä¸ªå‡½æ•°è¡¨ç¤ºè®¡ç®—å±æ€§çš„è¿”å›ç»“æœ
  // æ‰€æœ‰é€»è¾‘ä»£ç éƒ½åº”è¯¥å†™åœ¨è¿™ä¸ªè®¡ç®—å‡½æ•°ä¸­, åœ¨å‡½æ•°ä¹‹å¤–çš„é€»è¾‘å°†äº«å—ä¸åˆ°çŠ¶æ€å˜æ›´çš„å“åº”å¼
  // æ­¤å‡½æ•°ä¸­ä¸èƒ½ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸã€‚ å¦‚æœè¦ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸï¼Œåªèƒ½ä½¿ç”¨'setup'æ¨¡å¼
  return function computedFunction() {
    return {
      fullPath: this.$route.fullPath,
      count: this.$store.state.count,
      changeQuery: () => this.$router.replace({
        query: {
          a: Math.random()
        }
      }),
      incrementCount: () => this.$store.dispatch('increment')
    }
  }
}

// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ³¨å…¥å‡½æ•°ã€‚
// Vue çš„æ³¨å…¥å‡½æ•°æœ‰ä¸¤ç§æ¨¡å¼ï¼š'setup' å’Œ 'computed'ã€‚
// å‚è€ƒä¸Šè¿°ä¸¤ç§æ³¨å…¥å‡½æ•°ç±»å‹çš„æƒ…å†µã€‚
// å°è¯•ä½¿ç”¨ 'VueInjectionHookInComputedMode' æ›¿æ¢ç¬¬ä¸€ä¸ªå‚æ•° 
export default injectPropsFromWrapper(VueInjectionHookInSetupMode, function (props) {
  return (<div>
    This is the React Component
    <span>
      the path info from 'vue-router': <span style={{fontWeight: 'bold'}}>{props.fullPath}</span><br/>
      the count from 'vuex': <span style={{fontWeight: 'bold'}}>{props.count}</span>
    </span><br/>
    <button onClick={props.changeQuery}>change query</button> <button onClick={props.incrementCount}>increment count</button>
  </div>)
})

```
> **Note:** å¦‚æœå¤šæ¬¡ä½¿ç”¨æ³¨å…¥å‡½æ•°å¯¹åŒä¸€ä¸ªç»„ä»¶è¿›è¡ŒåŒ…è£…ï¼Œä¹‹å‰çš„æ³¨å…¥å‡½æ•°ä¼šè¢«è¦†ç›–ã€‚  
> 
> 'computed' æ¨¡å¼ä¸‹çš„æ³¨å…¥å‡½æ•°ä»…æ”¯æŒåŒæ­¥ä»£ç 
> 
> éœ€è¦ä¿è¯æ³¨å…¥å‡½æ•°å†…éƒ¨çš„é€»è¾‘æ˜¯çº¯å‡½æ•°ï¼Œå°½é‡ä¸è¦åœ¨æ³¨å…¥å‡½æ•°ä¸­åŠ å…¥ä¸šåŠ¡é€»è¾‘ã€‚ ä¸å»ºè®®åœ¨æ³¨å…¥å‡½æ•°ä¸­ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæˆ–å¼‚æ­¥è°ƒç”¨ã€‚

### lazyReactInVueçš„ç”¨æ³•(åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨å¼‚æ­¥çš„Reactç»„ä»¶)
```vue
<template>
  <Basic/>
</template>

<script>
import { lazyReactInVue } from 'veaury'

export default {
  components: {
    // import an async React component
    // It is also possible to use the full parameter of the Vue3 API 'defineAsyncComponent'
    // for example: lazyReactInVue({ loader: () => import('./react_app/Basic'), timeout: 3000 })
    Basic: lazyReactInVue(() => import('./react_app/Basic'))
  },
}
</script>
```
```typescript
// types
type lazyReactInVue = (asyncImport: Promise<any> | defineAsyncComponentOptions, options?: options) => any;
```

### lazyVueInReactçš„ç”¨æ³•(åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨å¼‚æ­¥çš„Vueç»„ä»¶)
```jsx
import { lazyVueInReact } from 'veaury'

const AsyncBasic = lazyVueInReact(() => import('./Basic'))
export default function () {
    return <AsyncBasic/>
}
```
```typescript
// types
type lazyReactInVue = (asyncImport: Promise<any>, options?: options) => any
```
